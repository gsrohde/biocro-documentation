<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>The BioCro C++ Library: thermal_time_bilinear Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">The BioCro C++ Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classthermal__time__bilinear.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">thermal_time_bilinear Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Calculates the rate of thermal time accumulation using a bilinear model.  
 <a href="classthermal__time__bilinear.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="thermal__time__bilinear_8h_source.html">thermal_time_bilinear.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for thermal_time_bilinear:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classthermal__time__bilinear__inherit__graph.png" border="0" usemap="#thermal__time__bilinear_inherit__map" alt="Inheritance graph"/></div>
<map name="thermal__time__bilinear_inherit__map" id="thermal__time__bilinear_inherit__map">
<area shape="rect" title="Calculates the rate of thermal time accumulation using a bilinear model." alt="" coords="5,80,151,107"/>
<area shape="rect" title=" " alt="" coords="31,5,125,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for thermal_time_bilinear:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classthermal__time__bilinear__coll__graph.png" border="0" usemap="#thermal__time__bilinear_coll__map" alt="Collaboration graph"/></div>
<map name="thermal__time__bilinear_coll__map" id="thermal__time__bilinear_coll__map">
<area shape="rect" title="Calculates the rate of thermal time accumulation using a bilinear model." alt="" coords="5,80,151,107"/>
<area shape="rect" title=" " alt="" coords="31,5,125,32"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aab3d21b3065e2f37cb5f02c005e7b724"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthermal__time__bilinear.html#aab3d21b3065e2f37cb5f02c005e7b724">thermal_time_bilinear</a> (state_map const *input_parameters, state_map *output_parameters)</td></tr>
<tr class="separator:aab3d21b3065e2f37cb5f02c005e7b724"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a8850f18384a98c3ffa016c2a9f705eec"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthermal__time__bilinear.html#a8850f18384a98c3ffa016c2a9f705eec">get_inputs</a> ()</td></tr>
<tr class="separator:a8850f18384a98c3ffa016c2a9f705eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac4f5df9c0c77ea15b22642747c93484"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthermal__time__bilinear.html#aac4f5df9c0c77ea15b22642747c93484">get_outputs</a> ()</td></tr>
<tr class="separator:aac4f5df9c0c77ea15b22642747c93484"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Calculates the rate of thermal time accumulation using a bilinear model. </p>
<h3><a class="anchor" id="autotoc_md3"></a>
Model overview</h3>
<p>The thermal time <code>t_th</code> represents the accumulated exposure of a plant to temperatures within some acceptable range that allows the plant to develop. The time rate of change of <code>t_th</code> is often referred to as the development rate <code>DR</code>. For an overview of the different methods that can be used for calculating thermal time and its development rate, see the following references:</p>
<ul>
<li><a href="http://dx.doi.org/10.1007/978-1-4612-1626-1_2">Campbell, G. S. &amp; Norman, J. M. "Chapter 2: Temperature" in "An Introduction to Environmental Biophysics" (1998)</a></li>
<li><a href="http://dx.doi.org/10.1006/anbo.1999.0955">Yan, W. &amp; Hunt, L. A. "An Equation for Modelling the Temperature Response of Plants using only the Cardinal Temperatures" Ann Bot 84, 607–614 (1999)</a></li>
<li><a href="http://dx.doi.org/10.1007/978-1-4939-2493-6_384-3">McMaster, G. S. &amp; Moragues, M. "Crop Development Related to Temperature and Photoperiod" in "Encyclopedia of Sustainability Science and Technology" (2018)</a></li>
</ul>
<p>This module implements a piecewise linear model that includes optimal and maximum temperatures. Due to its shape, this model is sometimes called "triangular." This model is discussed in many places, see e.g. section 2.9 of Campbell &amp; Norman (1998) or the paper that may have been the first to introduce it: <a href="http://dx.doi.org/10.1093/jxb/33.2.288">Garcia-Huidobro, J., Monteith, J. L. &amp; Squire, G. R. "Time, Temperature and Germination of Pearl Millet (Pennisetum typhoides S. &amp; H.) I. CONSTANT TEMPERATURE." J Exp Bot 33, 288–296 (1982)</a>.</p>
<p>In this model, <code>DR</code> is determined from the air temperature <code>T</code> according to:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">DR </th><th class="markdownTableHeadCenter">T range  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>0</code> </td><td class="markdownTableBodyCenter"><code>T &lt;= T_base</code>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>T - T_base</code> </td><td class="markdownTableBodyCenter"><code>T_base &lt; T &lt;= T_opt</code>  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter"><code>(T_max - T) * (T_opt - T_base) / (T_max - T_opt)</code> </td><td class="markdownTableBodyCenter"><code>T_opt &lt; T &lt;= T_max</code>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter"><code>0</code> </td><td class="markdownTableBodyCenter"><code>T_max &lt; T</code>  </td></tr>
</table>
<p>Thermal time has units of <code>degrees C * day</code> and the development rate, as written here, has units of <code>degrees C * day / day = degrees C</code>. This is a common formulation, reflecting the fact that average daily temperatures are often used to calculate the increase in thermal time during an entire day.</p>
<p>This model is based on the observation that development rate is maximum at some optimum temperature and decreases to zero at exceptionally low or high temperatures. It seems to be reasonably realistic for many plant species.</p>
<p>This model can be characterized as a piecewise linear model having three cardinal temperatures. For plants that have a range of temperatures corresponding to their maximum development rate, the <a class="el" href="classthermal__time__trilinear.html" title="Calculates the rate of thermal time accumulation using a trilinear model.">thermal_time_trilinear</a> model (which has four cardinal temperatures) may be a more appropriate piecewise linear model. If optimum or maximum temperatures are unavailable, the <a class="el" href="classthermal__time__linear__extended.html" title="Calculates the rate of thermal time accumulation using an extended linear model.">thermal_time_linear_extended</a> or <a class="el" href="classthermal__time__linear.html" title="Calculates the rate of thermal time accumulation using a linear model.">thermal_time_linear</a> models may be more appropriate piecewise linear models.</p>
<h3><a class="anchor" id="autotoc_md4"></a>
BioCro module implementation</h3>
<p>In BioCro, we use the following names for this model's parameters:</p><ul>
<li><code>'TTc'</code> for the thermal time <code>t_th</code></li>
<li><code>'temp'</code> for the air temperature <code>T</code></li>
<li><code>'tbase'</code> for the base temperature <code>T_base</code></li>
<li><code>'topt'</code> for the optimal temperature <code>T_opt</code></li>
<li><code>'tmax'</code> for the maximum temperature <code>T_max</code></li>
</ul>
<p>Also note that time derivatives in BioCro are specified on a per hour basis, so a conversion factor of <code>24 hours per day</code> is required in the code as compared to the formulas presented above. </p>

<p class="definition">Definition at line <a class="el" href="thermal__time__bilinear_8h_source.html#l00079">79</a> of file <a class="el" href="thermal__time__bilinear_8h_source.html">thermal_time_bilinear.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aab3d21b3065e2f37cb5f02c005e7b724"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab3d21b3065e2f37cb5f02c005e7b724">&#9670;&nbsp;</a></span>thermal_time_bilinear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">thermal_time_bilinear::thermal_time_bilinear </td>
          <td>(</td>
          <td class="paramtype">state_map const *&#160;</td>
          <td class="paramname"><em>input_parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">state_map *&#160;</td>
          <td class="paramname"><em>output_parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="thermal__time__bilinear_8h_source.html#l00082">82</a> of file <a class="el" href="thermal__time__bilinear_8h_source.html">thermal_time_bilinear.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        :  <span class="comment">// Define basic module properties by passing its name to its parent class</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;          DerivModule(<span class="stringliteral">&quot;thermal_time_bilinear&quot;</span>),</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;          <span class="comment">// Get pointers to input parameters</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;          temp(get_input(input_parameters, <span class="stringliteral">&quot;temp&quot;</span>)),</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;          tbase(get_input(input_parameters, <span class="stringliteral">&quot;tbase&quot;</span>)),</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;          topt(get_input(input_parameters, <span class="stringliteral">&quot;topt&quot;</span>)),</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;          tmax(get_input(input_parameters, <span class="stringliteral">&quot;tmax&quot;</span>)),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;          <span class="comment">// Get pointers to output parameters</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;          TTc_op(get_op(output_parameters, <span class="stringliteral">&quot;TTc&quot;</span>))</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8850f18384a98c3ffa016c2a9f705eec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8850f18384a98c3ffa016c2a9f705eec">&#9670;&nbsp;</a></span>get_inputs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; thermal_time_bilinear::get_inputs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="thermal__time__bilinear_8h_source.html#l00115">115</a> of file <a class="el" href="thermal__time__bilinear_8h_source.html">thermal_time_bilinear.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> {</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="stringliteral">&quot;temp&quot;</span>,   <span class="comment">// degrees C</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="stringliteral">&quot;tbase&quot;</span>,  <span class="comment">// degrees C</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="stringliteral">&quot;topt&quot;</span>,   <span class="comment">// degrees C</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="stringliteral">&quot;tmax&quot;</span>    <span class="comment">// degrees C</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    };</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aac4f5df9c0c77ea15b22642747c93484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac4f5df9c0c77ea15b22642747c93484">&#9670;&nbsp;</a></span>get_outputs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::string &gt; thermal_time_bilinear::get_outputs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="thermal__time__bilinear_8h_source.html#l00125">125</a> of file <a class="el" href="thermal__time__bilinear_8h_source.html">thermal_time_bilinear.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">return</span> {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="stringliteral">&quot;TTc&quot;</span>  <span class="comment">// degrees C * day / hr</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    };</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/github/workspace/source/src/module_library/<a class="el" href="thermal__time__bilinear_8h_source.html">thermal_time_bilinear.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classthermal__time__bilinear.html">thermal_time_bilinear</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
